{% extends "club/index.html" %}

{% block titulo %} M√©dicos {% endblock titulo %}

{% block contenido %}

<div class="container py-5">
    
    <div class="d-flex justify-content-between align-items-center mb-4 pb-2 border-bottom">
        <h1 style="color: var(--primary-color); font-weight: 700; font-size: 2.25rem;">
            üë®‚Äç‚öïÔ∏è Gesti√≥n de M√©dicos | Listado
        </h1>
        
        <div class="btn-group" role="group" aria-label="Acciones de gesti√≥n">
            <a href="{% url 'medico_create' %}" class="btn btn-lg shadow-sm text-uppercase btn-primary"
                style="color: white; letter-spacing: 0.5px;">
                <i class="bi bi-plus-circle-fill me-2"></i> Registrar Nuevo M√©dico
            </a>
        </div>
    </div>

    <div class="card p-3 mb-5 border-0 shadow-sm">
        <form class="d-flex" method="GET" role="search">
            <input 
                class="form-control form-control-lg me-3" 
                type="search" 
                placeholder="Buscar por Apellido..." 
                aria-label="Buscar" 
                name="q" 
                value="{{ query|default:'' }}"
                style="border: 2px solid var(--primary-color);"
            >
            <button class="btn btn-lg shadow-sm text-uppercase btn-primary"
                style="color: white; letter-spacing: 0.5px;" type = "submit">
                Filtrar
            </button>
        </form>
    </div>

    {% if query %}
    <div class="alert alert-info border-start border-5" role="alert" 
          style="border-color: var(--primary-color) !important;">
        <i class="bi bi-info-circle-fill me-2"></i> 
        Visualizando resultados para el filtro: <strong>"{{ query }}"</strong>
    </div>
    {% endif %}

    <div class="table-responsive shadow-lg rounded-3 overflow-hidden">
        <table class="table table-striped table-hover align-middle">
            <thead style="background-color: var(--primary-color); color: white;">
                <tr>
                    <th scope="col" class="py-3">Matr√≠cula</th>
                    <th scope="col" class="py-3">Nombre y Apellido</th>
                    <th scope="col" class="py-3">DNI</th>
                    <th scope="col" class="py-3">Especialidad</th>
                </tr>
            </thead>
            <tbody>
                {% for medico in object_list %} 
                <tr>
                    <td>{{ medico.nro_matricula }}</td>
                    <td>{{ medico.nombre }} {{ medico.apellido }}</td>
                    <td>{{ medico.dni }}</td>
                    <td>{{ medico.especialidad }}</td>
                    
                    <td>
                        <a href="{% url 'medico_detail' medico.code %}" class="btn btn-sm btn-primary" >Ver</a>
                    </td>
                    <td>
                        <a href="{% url 'medico_update' medico.code %}" class="btn btn-sm btn-warning">Editar</a>
                    </td>
                    <td>
                        <a href="{% url 'medico_delete' medico.code %}" class="btn btn-sm btn-danger">Eliminar</a>
                    </td>
                </tr>
                {% empty %}
                <tr>
                    <td colspan="6" class="text-center py-5 text-muted">
                        <i class="bi bi-x-circle-fill me-2"></i> No se encontraron m√©dicos registrados.
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
    
    <p class="text-end text-muted small mt-3">
        * Se listan todos los profesionales registrados.
    </p>

</div>

{% endblock contenido %}